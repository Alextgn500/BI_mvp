"""–ú–æ–¥—É–ª—å —Ä–∞—Å—á–µ—Ç–∞ –±–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫ –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã BI_mvp.

–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è KPI –º–∞–ª–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞:
‚Äî –í—ã—Ä—É—á–∫–∞ –∏ –ø—Ä–∏–±—ã–ª—å (revenue, profit margin)
‚Äî –°—Ä–µ–¥–Ω–∏–π —á–µ–∫ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
‚Äî –¢–µ–º–ø—ã —Ä–æ—Å—Ç–∞ (MoM, YoY)
‚Äî ABC/XYZ –∞–Ω–∞–ª–∏–∑ —Ç–æ–≤–∞—Ä–æ–≤
‚Äî RFM —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤
"""

import streamlit as st


def create_metrics_cards(summary_data):
    """
    –°–æ–∑–¥–∞—ë—Ç –∫–∞—Ä—Ç–æ—á–∫–∏ —Å –∫–ª—é—á–µ–≤—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏ –ø—Ä–æ–¥–∞–∂

    Args:
        summary_data: —Å–ª–æ–≤–∞—Ä—å —Å –¥–∞–Ω–Ω—ã–º–∏ –æ –ø—Ä–æ–¥–∞–∂–∞—Ö
    """
    if not summary_data:
        st.error("–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫")
        return

    # –°–æ–∑–¥–∞—ë–º 4 –∫–æ–ª–æ–Ω–∫–∏
    col1, col2, col3, col4 = st.columns(4)

    # –ú–µ—Ç—Ä–∏–∫–∞ 1: –û–±—â–∞—è –≤—ã—Ä—É—á–∫–∞
    with col1:
        total_sales = summary_data.get("total_sales", 0)
        st.metric(label="üí∞ –û–±—â–∞—è –≤—ã—Ä—É—á–∫–∞", value=f"‚ÇΩ{total_sales:,.0f}")

    # –ú–µ—Ç—Ä–∏–∫–∞ 2: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–¥–∞–∂
    with col2:
        total_quantity = summary_data.get("total_quantity", 0)
        st.metric(label="üì¶ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–¥–∞–∂", value=f"{total_quantity:,}")

    # –ú–µ—Ç—Ä–∏–∫–∞ 3: –°—Ä–µ–¥–Ω–∏–π —á–µ–∫
    with col3:
        avg_sale = summary_data.get("avg_sale", 0)
        st.metric(label="üõçÔ∏è –°—Ä–µ–¥–Ω–∏–π —á–µ–∫", value=f"‚ÇΩ{avg_sale:,.2f}")

    # –ú–µ—Ç—Ä–∏–∫–∞ 4: –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã
    with col4:
        unique_products = summary_data.get("unique_products", 0)
        st.metric(label="üéØ –£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤", value=f"{unique_products}")
